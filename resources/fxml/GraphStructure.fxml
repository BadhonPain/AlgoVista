<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane style="-fx-background-color: linear-gradient(to bottom right, #0f172a, #1e293b);" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.AlgoVista.graphs.GraphStructureController">

    <!-- Top Bar -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #1e293b; -fx-padding: 15;">
            <Button onAction="#backToCategory" style="-fx-background-color: #334155; -fx-text-fill: white;                            -fx-background-radius: 5; -fx-padding: 8 15; -fx-cursor: hand;" text="â† Back" />

            <Label text="Graph Structure" textFill="#38bdf8">
                <font><Font name="System Bold" size="24" /></font>
            </Label>
        </HBox>
    </top>

    <!-- Left Control Panel -->
    <left>
        <VBox prefWidth="250" spacing="15" style="-fx-background-color: #1e293b; -fx-padding: 20;">

            <Label style="-fx-font-weight: bold;" text="Graph Type:" textFill="white" />

            <RadioButton fx:id="rbUU" text="U/U (Undirected/Unweighted)" textFill="white" />
            <RadioButton fx:id="rbUW" text="U/W (Undirected/Weighted)" textFill="white" />
            <RadioButton fx:id="rbDU" text="D/U (Directed/Unweighted)" textFill="white" />
            <RadioButton fx:id="rbDW" text="D/W (Directed/Weighted)" textFill="white" />

            <Separator />

            <Label style="-fx-font-weight: bold;" text="Graph Generation:" textFill="white" />

            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="Nodes:" textFill="white" />
                <Spinner fx:id="spinnerNodes" editable="true" prefWidth="80" />
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="Edges:" textFill="white" />
                <Spinner fx:id="spinnerEdges" editable="true" prefWidth="80" />
            </HBox>

            <Button maxWidth="Infinity" onAction="#generateRandomGraph" style="-fx-background-color: #22c55e; -fx-text-fill: white;                            -fx-background-radius: 5; -fx-padding: 10; -fx-cursor: hand;                            -fx-font-weight: bold;" text="Generate Random" />

            <Button maxWidth="Infinity" onAction="#clearGraph" style="-fx-background-color: #ef4444; -fx-text-fill: white;                            -fx-background-radius: 5; -fx-padding: 10; -fx-cursor: hand;" text="Clear Graph" />
            <Button maxWidth="Infinity" onAction="#startCustomMode" style="-fx-background-color: #3b82f6; -fx-text-fill: white;                -fx-background-radius: 5; -fx-padding: 10; -fx-cursor: hand;                -fx-font-weight: bold;" text="Custom Graph" />

            <Button fx:id="finishCustomButton" maxWidth="Infinity" onAction="#finishCustomMode" style="-fx-background-color: #8b5cf6; -fx-text-fill: white;                -fx-background-radius: 5; -fx-padding: 10; -fx-cursor: hand;" text="Finish Custom Graph" visible="false" />
        </VBox>
    </left>

    <!-- Center Canvas -->
    <center>
        <StackPane style="-fx-padding: 20;">
            <Canvas fx:id="graphCanvas" height="495.0" style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 2);" width="700" />
        </StackPane>
    </center>

    <!-- Bottom Tables -->
    <bottom>
        <HBox prefHeight="300" spacing="10" style="-fx-padding: 20; -fx-background-color: #1e293b;">

            <VBox spacing="5" HBox.hgrow="ALWAYS">
                <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="Adjacency Matrix" textFill="#38bdf8" />
                <TableView fx:id="matrixTable" style="-fx-background-color: white;" VBox.vgrow="ALWAYS">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>

            <VBox spacing="5" HBox.hgrow="ALWAYS">
                <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="Adjacency List" textFill="#38bdf8" />
                <TableView fx:id="adjListTable" style="-fx-background-color: white;" VBox.vgrow="ALWAYS">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>

            <VBox spacing="5" HBox.hgrow="ALWAYS">
                <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="Edge List" textFill="#38bdf8" />
                <TableView fx:id="edgeListTable" style="-fx-background-color: white;" VBox.vgrow="ALWAYS">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>

        </HBox>
    </bottom>

</BorderPane>
